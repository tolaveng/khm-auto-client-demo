{"version":3,"sources":["webpack://khm-auto/external \"electron\"","webpack://khm-auto/webpack/bootstrap","webpack://khm-auto/webpack/runtime/compat get default export","webpack://khm-auto/webpack/runtime/define property getters","webpack://khm-auto/webpack/runtime/hasOwnProperty shorthand","webpack://khm-auto/external \"path\"","webpack://khm-auto/./src/main.ts"],"names":["module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","mainWindow","isMac","process","platform","app","BrowserWindow","title","width","height","minWidth","minHeight","x","y","webPreferences","nodeIntegration","icon","__dirname","console","log","baseUrl","urls","indexUrl","newInvoice","car","report","backup","quote","newQuote","maximize","loadFile","path","mainMenuTemplate","label","submenu","role","click","loadURL","push","webContents","openDevTools","menu","Menu","on","e","type","buttons","defaultId","message","preventDefault","ipcMain","event","filePath","shell"],"mappings":"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","file":"main.js","sourcesContent":["module.exports = require(\"electron\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"path\");;","import { app, BrowserWindow, ipcMain, shell, Menu } from 'electron';\r\nimport path from 'path';\r\nimport url from 'url';\r\n\r\nlet mainWindow: Electron.BrowserWindow | null;\r\nconst isDev = process.env.NODE_ENV === 'development';\r\nconst isMac = process.platform === 'darwin';\r\n\r\nconst createWindow = (): void => {\r\n    mainWindow = new BrowserWindow({\r\n        title: 'KHM Auto',\r\n        width: 800,\r\n        height: 600,\r\n        minWidth: 800,\r\n        minHeight: 600,\r\n        x: 0, y: 0,\r\n        webPreferences: {\r\n            nodeIntegration: true,\r\n        },\r\n        icon: __dirname + '../React/assets/icon.png'\r\n    });\r\n\r\n    console.log(`Running in development: ${isDev}`);\r\n    //const mainUrl = 'http://localhost:9000';\r\n    const baseUrl = isDev ? 'http://localhost:9000' : `file://${app.getAppPath()}/index.html#`; // using HashRouter instead of BrowserRouter\r\n    const urls = {\r\n        baseUrl: baseUrl,\r\n        indexUrl: baseUrl + '/',\r\n        newInvoice: baseUrl + '/invoice/new',\r\n        car: baseUrl + '/car',\r\n        report: baseUrl + '/report',\r\n        backup: baseUrl + '/backup',\r\n        quote: baseUrl + '/quote',\r\n        newQuote: baseUrl + '/quote/new',\r\n    };\r\n\r\n    mainWindow.maximize();\r\n    //mainWindow.loadURL(urls.indexUrl);\r\n    mainWindow.loadFile(path.resolve(path.join(__dirname, 'index.html')));\r\n    // Main menu\r\n    const mainMenuTemplate: Electron.MenuItemConstructorOptions[] = [\r\n        {\r\n            label: 'KHM Auto',\r\n            submenu: [isMac ? { role: 'close' } : { role: 'quit' }],\r\n        },\r\n        // {\r\n        //     label: 'Edit',\r\n        //     submenu: [\r\n        //         { role: 'undo' },\r\n        //         { role: 'redo' },\r\n        //         { type: 'separator' },\r\n        //         { role: 'cut' },\r\n        //         { role: 'copy' },\r\n        //         { role: 'paste' },\r\n        //         { type: 'separator' },\r\n        //         { role: 'selectAll' },\r\n        //         { role: 'delete' },\r\n        //     ],\r\n        // },\r\n        {\r\n            label: 'Invoices',\r\n            submenu: [\r\n                {\r\n                    label: 'All invoices',\r\n                    click() {\r\n                        mainWindow?.loadURL(urls.indexUrl)\r\n                    },\r\n                },\r\n                {\r\n                    label: 'Create new invoice',\r\n                    click() {\r\n                        mainWindow?.loadURL(urls.newInvoice)\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            label: 'Quotes',\r\n            submenu: [\r\n                {\r\n                    label: 'All Quotes',\r\n                    click() {\r\n                        mainWindow?.loadURL(urls.quote)\r\n                    },\r\n                },\r\n                {\r\n                    label: 'Create new quote',\r\n                    click() {\r\n                        mainWindow?.loadURL(urls.newQuote)\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            label: 'Cars',\r\n            click() {\r\n                mainWindow?.loadURL(urls.car)\r\n            },\r\n        },\r\n        {\r\n            label: 'Report',\r\n            click() {\r\n                mainWindow?.loadURL(urls.report)\r\n            },\r\n        },\r\n        {\r\n            label: 'Tools',\r\n            submenu: [\r\n                {\r\n                    label: 'Backup Database',\r\n                    click() {\r\n                        mainWindow?.loadURL(urls.backup)\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ];\r\n\r\n    //if (isDev) {\r\n        mainMenuTemplate.push({\r\n            label: 'Devs',\r\n            submenu: [{ role: 'forceReload' }, { role: 'toggleDevTools' }],\r\n        });\r\n        mainWindow.webContents.openDevTools();\r\n    //}\r\n    const menu = Menu.buildFromTemplate(mainMenuTemplate);\r\n    Menu.setApplicationMenu(menu);\r\n    // End main menu\r\n\r\n    mainWindow.on('closed', () => {\r\n        mainWindow = null;\r\n    });\r\n\r\n    mainWindow.on('close', function (e) {\r\n        const choice = require('electron').dialog.showMessageBoxSync(mainWindow!,\r\n            {\r\n                type: 'question',\r\n                buttons: ['Yes', 'No'],\r\n                defaultId: 1,\r\n                title: 'Confirm Close',\r\n                message: 'Are you sure you want to close?'\r\n            });\r\n            \r\n        if (choice === 1) {\r\n            e.preventDefault();\r\n        }\r\n    });\r\n\r\n}; // end create main window\r\n\r\napp.on('ready', createWindow);\r\n\r\n// open file in explorer\r\nipcMain.on('open-file-in-folder', (event, filePath) => {\r\n    shell.showItemInFolder(filePath);\r\n});\r\n\r\n"],"sourceRoot":""}